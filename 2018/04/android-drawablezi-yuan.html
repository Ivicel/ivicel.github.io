<!DOCTYPE html>
<html lang="en">
    <head>
            <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="google-site-verification" content="WpfeDx8HRNQcT7jzjSsZ0vhtfw8M7gFo-YoDmXZRGHg"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  
        <title>
Ambertime        </title>

        <!-- Web App Manifest -->
        <link rel="manifest" href="/assets/pwa/manifest.json" />

        <!-- Favicon -->
        <link rel="shortcut icon" href="/assets/images/favicon.ico"/>
        <!-- Canonical URL -->
        <link rel="canonical" href="" />
        <link rel="stylesheet" href="/theme/css/bootstrap.min.css" />

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/theme/css/hux-blog.min.css" />
        <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
        <link rel="stylesheet" href="/theme/css/prism.css" />
        <link rel="stylesheet" href="/theme/css/ivicel.css" />

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
        


    <style type="text/css">
    header.intro-header{
        position: relative;
        background-image: url('/assets/images/header.jpg');
    }

    header.intro-header .header-mask{
        width: 100%;
        height: 100%;
        position: absolute;
        background: rgba(0,0,0, 0.3);
    }
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>
    </head>


    <!-- hack iOS CSS :active style -->
    <body ontouchstart="">
<!-- Navigation -->
<!-- <nav class="navbar navbar-default navbar-custom navbar-fixed-top invert"> -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Ambertime</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
                        <li>
                            <a href="/archives">ARCHIVES</a>
                        </li>
                        <li>
                            <a href="/about">ABOUT</a>
                        </li>
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    var __HuxNav__ = {
        close: function(){
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        },
        open: function(){
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }

    // Bind Event
    $toggle.addEventListener('click', function(e){
        if ($navbar.className.indexOf('in') > 0) {
            __HuxNav__.close()
        }else{
            __HuxNav__.open()
        }
    })

    /**
     * Since Fastclick is used to delegate 'touchstart' globally
     * to hack 300ms delay in iOS by performing a fake 'click',
     * Using 'e.stopPropagation' to stop 'touchstart' event from 
     * $toggle/$collapse will break global delegation.
     * 
     * Instead, we use a 'e.target' filter to prevent handler
     * added to document close HuxNav.  
     *
     * Also, we use 'click' instead of 'touchstart' as compromise
     */
    document.addEventListener('click', function(e){
        if(e.target == $toggle) return;
        if(e.target.className == 'icon-bar') return;
        __HuxNav__.close();
    })
</script> 
        
<!-- Post Header -->

<header class="intro-header" >
    <div class="header-mask"></div>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        <a class="tag" href="#" title="drawable">drawable</a>
                        <a class="tag" href="#" title="资源">资源</a>
                        <a class="tag" href="#" title="样式">样式</a>
                    </div>
                    <h1>Android Drawable资源</h1>
                    <span class="meta">Posted by ivicel on 2018-04-28</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<div class="container">
    <article>
        <div class="row">
            <!-- Post Container -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 post-container">
                <h3>1. drawable 简述</h3>
<p>drawable 在 Android 中是一个抽象的概念, 对应抽象类 <code>android.graphics.drawable.Drawable</code>, 包括了各种形式的图片, 层级样式, 状态样式等. drawable 可以在 <code>res/drawable</code> 中以 <code>xml</code> 来定义. 也可以在 java 中生成. 大概分为以下 10 种.</p>
<ol>
<li><a href="https://developer.android.com/guide/topics/resources/drawable-resource#Bitmap">Bitmap File</a> <code>.png</code>(最好), <code>.jpg</code>(次), <code>.gif</code>(尽量不要用)等格式的图片. 对应 <code>BitmapDrawable</code> </li>
<li><a href="https://developer.android.com/guide/topics/resources/drawable-resource#NinePatch">Nine-Patch File</a> <code>.9.png</code> 图片.对应 <code>NinePatchDrawable</code> </li>
<li><a href="https://developer.android.com/guide/topics/resources/drawable-resource#LayerList">Layer List</a> 多层次 drawable 数组, 按层绘制到屏幕, 下标大的会绘制在上面, 小的绘制在下面. 对应 <code>LayerDrawable</code> </li>
<li><a href="https://developer.android.com/guide/topics/resources/drawable-resource#StateList">State List</a> 状态数组, 比如选中, 未选中, 点击等状态. 对应 <code>StateListDrawable</code></li>
<li><a href="https://developer.android.com/guide/topics/resources/drawable-resource#LevelList">Level List</a> 等级 drawable 数组, 数组中每个 Item 都有一个 minLevel, maxLevel, 可以使用 <code>View#setLevel()</code>, <code>ImageView#setImageLevel()</code> 来设置按等级获取图片. 对应 <code>LevelListDrawable</code></li>
<li><a href="https://developer.android.com/guide/topics/resources/drawable-resource#Transition">Transition Drawable</a> 定义了 drawable 之间过滤的形式, 对应  <code>TransitionDrawable</code></li>
<li><a href="https://developer.android.com/guide/topics/resources/drawable-resource#Inset">Inset Drawable</a> 定义了一个 drawable 以一个范围差值插入另一个 drawable 中. 比如向一个 view 插入 drawable, 但这个 drawable 比 view 的边界大或小, 可以使用这个来放大或缩小到实际边界. 对应 <code>InsetDrawable</code></li>
<li><a href="https://developer.android.com/guide/topics/resources/drawable-resource#Clip">Clip Drawable</a> 一个切割其他 drawable 的 drawable. 对应 <code>ClipDrawable</code></li>
<li><a href="https://developer.android.com/guide/topics/resources/drawable-resource#Scale">Scale Drawable</a> 一个定义了如何放大缩小的 drawable. 对应 <code>ScaleDrawable</code> </li>
<li><a href="https://developer.android.com/guide/topics/resources/drawable-resource#Shape">Shape Drawable</a> 定义了矩形, 椭圆, 圆, 直线等几何形状, 包含渐变, 颜色的 drawable. 对应 <code>GradientDrawable</code></li>
<li>Rotate Drawable 定义了图形可旋转的角度, 对应 <code>RotateDrawable</code></li>
</ol>
<h3>2. BitmapDrawable(bitmap 标签)</h3>
<p>创建方法一是直接把 <code>.png</code>, <code>.jpg</code>, <code>.gif</code> 图片放在 <code>res/drawable</code> 目录下, 通过 <code>R.drawable.name</code> 访问. 二是通过 xml 来创建, 使用 <code>bitmap</code> 为根结点, 也是放在 drawable 目录下, 通过 xml 创建可以对图片进行一些其他比如变形, 前景等更改</p>
<pre class="highlight line-numbers"><code class="language-Xml linenums">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;bitmap
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:src="@[package:]drawable/drawable_resource"
    android:antialias=["true" | "false"]
    android:dither=["true" | "false"]
    android:filter=["true" | "false"]
    android:gravity=["top" | "bottom" | "left" | "right" | "center_vertical" |
                      "fill_vertical" | "center_horizontal" | "fill_horizontal" |
                      "center" | "fill" | "clip_vertical" | "clip_horizontal"]
    android:mipMap=["true" | "false"]
    android:tileMode=["disabled" | "clamp" | "repeat" | "mirror"] /&gt;</code></pre>

<ul>
<li><code>android:src</code> 图片来源, 可以是其他 drawable</li>
<li><code>android:antialias</code> 是否开启抗锯齿, 一般都开启以便获得更好的显示效果</li>
<li><code>android:dither</code> 是否开启抖动, 当屏幕与图片的像素配置不同时会用到, 比如屏幕是 RGB565, 图片是 ARGB8888. 一般都不开启</li>
<li><code>android:filter</code> 是否开启过滤以便在图片缩小或放大时获得更平滑的过滤效果</li>
<li><code>android:gravity</code> 图片对齐方法</li>
<li><code>android:mipMap</code> 设置是否可以使用 mipmap，但 API Level 最低要求是 17，即 Android 4.2</li>
<li><code>android:tileMode</code> 平铺模式. <code>disabled</code> 禁用, <code>clamp</code> 平铺, <code>repeat</code> 重复, <code>mirror</code> 镜像, 以对称翻转铺满.</li>
<li><code>android:autoMirrored</code> 设置图片是否需要镜像反转，当布局方向是 RTL，即从右到左布局时才有用，API Level 19(Android 4.4) 才添加的属性</li>
<li><code>android:tintMode</code> 着色模式，也是 API Level 21(Android 5.0) 才添加的属性</li>
<li><code>android:tileModeX</code>, <code>android:tileModeY</code> 水平, 垂直平铺.</li>
</ul>
<h3>3. 点九图片(nine-path 标签)</h3>
<p><code>nine-patch</code> 图片一般都用工具生成, 其 <strong>左</strong> 和 <strong>上</strong> 边线规定了纵向和橫向拉伸时使用的平铺区域, <strong>右</strong> 和 <strong>下</strong> 边线规定了内容区.</p>
<pre class="highlight line-numbers"><code class="language-xml linenums">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;nine-patch
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:src="@[package:]drawable/drawable_resource"
    android:dither=["true" | "false"] /&gt;</code></pre>

<ul>
<li><code>android:src</code> 必须是 nine-path 图片</li>
</ul>
<p>另外还有 <code>android:dither</code>, <code>android:tint</code>, <code>android:tintMode</code>, <code>android:alpha</code> 图片透明度, 0.0-1.0 之间, <code>android:autoMirrored</code> 属性</p>
<h3>4. LayerDrawable (layer-list 标签)</h3>
<p>layer-list 会把一组设置好的 drawable 按顺序从堆叠起来. 跟 level-list 区别的, layer-list 是一个组全, level-list 是按需选取其中的对应等级的图片.</p>
<pre class="highlight line-numbers"><code class="language-xml linenums">&lt;?&lt;?xml versionxml ver ="1.0" encoding="utf-8"?&gt;
&lt;layer-list
    xmlns:android="http://schemas.android.com/apk/res/android" &gt;
    &lt;item
        android:drawable="@[package:]drawable/drawable_resource"
        android:id="@[+][package:]id/resource_name"
        android:top="dimension"
        android:right="dimension"
        android:bottom="dimension"
        android:left="dimension" /&gt;
&lt;/layer-list&gt;</code></pre>

<p><code>android:top</code>, <code>android:right</code>, <code>android:bottom</code>, <code>android:left</code> 是上右下左的偏移量, 注意这个偏移不会超出 view 的大小. 比如当设定这个为背景时, 背景大小 = view大小 - 左偏移量大小.</p>
<p>所以一般为保证偏移后, 内容区还是显示为居中, 四个方向都作偏移, 然后在显示的另一层里不需要显示出来的作偏移</p>
<pre class="highlight line-numbers"><code class="language-xml linenums">&lt;TextView
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_margin="16dp"
    android:background="@drawable/bg_shadow_corners_rectangle"
    android:gravity="center"
    android:padding="16dp"
    android:text=" 带阴影的圆角矩形 " /&gt;

&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;layer-list xmlns:android="http://schemas.android.com/apk/res/android"&gt;
    &lt;!-- 灰色阴影 --&gt;
    &lt;item
        android:left="2dp"
        android:top="4dp"&gt;
        &lt;shape&gt;
            &lt;solid android:color="@android:color/darker_gray" /&gt;
            &lt;corners android:radius="10dp" /&gt;
        &lt;/shape&gt;
    &lt;/item&gt;
    &lt;!-- 白色前景, 左右, 上下偏移保持对称 --&gt;
    &lt;item
        android:left="2dp"
        android:top="4dp"
        android:bottom="4dp"
        android:right="2dp"&gt;
        &lt;shape&gt;
            &lt;solid android:color="#FFFFFF" /&gt;
            &lt;corners android:radius="10dp" /&gt;
        &lt;/shape&gt;
    &lt;/item&gt;
&lt;/layer-list&gt;</code></pre>

<p><img alt="layer-list textview示例" src="../../assets/images/layer-list-textview示例.png" /></p>
<h3>5. StateListDrawable(selector 标签)</h3>
<p><code>StateListDrawable</code> 表示多个状态联合起来的一个 drawable, 比如点击, focus 等. 状态匹配会按从上到下来匹配, 没匹配到的话就使用最后一个, 匹配到了就结束. 所以一般要把默认状态放在最后, 比如非点击状态在最后, 点击放在前面, 不然无法匹配到点击状态, 因为第一个总是匹配成功.</p>
<pre class="highlight line-numbers"><code class="language-xml linenums">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;selector xmlns:android="http://schemas.android.com/apk/res/android"
    android:constantSize=["true" | "false"]
    android:dither=["true" | "false"]
    android:variablePadding=["true" | "false"] &gt;
    &lt;item
        android:drawable="@[package:]drawable/drawable_resource"
        android:state_pressed=["true" | "false"]
        android:state_focused=["true" | "false"]
        android:state_hovered=["true" | "false"]
        android:state_selected=["true" | "false"]
        android:state_checkable=["true" | "false"]
        android:state_checked=["true" | "false"]
        android:state_enabled=["true" | "false"]
        android:state_activated=["true" | "false"]
        android:state_window_focused=["true" | "false"] /&gt;
&lt;/selector&gt;</code></pre>

<blockquote>
<p><code>android:state_XXXX</code> 是 item 可设置的状态</p>
</blockquote>
<ul>
<li><code>android:state_pressed</code> 按压</li>
<li><code>android:state_focused</code> 是否选中</li>
<li><code>android:state_hovered</code> 鼠标在上面滑动</li>
<li><code>android:state_selected</code> 选中</li>
<li><code>android:state_checkable</code> 设置一个勾选是否可以使用</li>
<li><code>android:state_checked</code> 是否勾选, 用于 CheckBox 和 RadioButton 中是否勾选</li>
<li><code>android:state_enabled</code> 设置触摸或点击是否可用</li>
<li><code>android:state_activated</code> 设置是否被激活状态, <code>setActivated()</code> 方法</li>
<li><code>android:state_window_focused</code> 设置当前窗口是否获得焦点状态. 例如拉下通知栏或弹出对话框时，当前界面就会失去焦点；另外，ListView 的 ListItem 获得焦点时也会触发 true 状态，可以理解为当前窗口就是 ListItem 本身</li>
</ul>
<h3>6. LevelListDrawable(level-list 标签)</h3>
<p>当 View 需要显示不同的图片, 比如电池电量图标, level-list 便可以派上用场. level-list 可以管理一组 drawable, 每个 drawable 都可以设置一组 level 范围, 最终会根据 level 值选取对应的 drawable 绘制出来.</p>
<pre class="highlight line-numbers"><code class="language-xml linenums">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;level-list
    xmlns:android="http://schemas.android.com/apk/res/android" &gt;
    &lt;item
        android:drawable="@drawable/drawable_resource"
        android:maxLevel="integer"
        android:minLevel="integer" /&gt;
&lt;/level-list&gt;</code></pre>

<ul>
<li><code>android:maxLevel</code> 最大 level</li>
<li><code>android:minLevel</code> 最小 level</li>
</ul>
<pre class="highlight line-numbers"><code class="language-xml linenums">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;level-list xmlns:android="http://schemas.android.com/apk/res/android"&gt;
    &lt;item
        android:drawable="@drawable/battery_low"
        android:maxLevel="10"
        android:minLevel="0" /&gt;
    &lt;item
        android:drawable="@drawable/battery_below_half"
        android:maxLevel="50"
        android:minLevel="10" /&gt;
    &lt;item
        android:drawable="@drawable/battery_over_half"
        android:maxLevel="99"
        android:minLevel="50" /&gt;
    &lt;item
        android:drawable="@drawable/battery_full"
        android:maxLevel="100"
        android:minLevel="100" /&gt;
&lt;/level-list&gt;</code></pre>

<p>使用 <code>Drawable#setLevel(10)</code> 的代码便可以设置 level 为 10. </p>
<p>level-list 的匹配也是从上至下, 一但有匹配便不会再向下查找. 所以上面的示例也可以把 <code>android:minLevel</code> 省略不写, 比如第一个 item</p>
<pre class="highlight line-numbers"><code class="language-xml linenums">&lt;item
      android:drawable="@drawable/battery_low"
      android:maxLevel="10"/&gt;</code></pre>

<p>这样 level 10 便直接命中第一个 item 后便不会再向下查找. </p>
<blockquote>
<p>level-list 的书写顺序需要注意, 如果把 level 100 写在前面, 并省略了 minLevel, 这样总是会匹配到 level 100 而不会向下查找</p>
</blockquote>
<h3>7. TransitionDrawable(transition 标签)</h3>
<p>transition 继承于 layer-list, 但只能管理两层 drawable. 用于定义这两个 drawable 之间的切换方法, 还可以定义切换时淡入淡出的的动画效果.</p>
<pre class="highlight line-numbers"><code class="language-xml linenums">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;transition
    xmlns:android="http://schemas.android.com/apk/res/android" &gt;
    &lt;item
        android:drawable="@[package:]drawable/drawable_resource"
        android:id="@[+][package:]id/resource_name"
        android:top="dimension"
        android:right="dimension"
        android:bottom="dimension"
        android:left="dimension" /&gt;
&lt;/transition&gt;</code></pre>

<p>transition 切换时要主动调动 <code>TransitionDrawable#startTransition()</code> 方法, 从第一个转到第二个 drawable, 调动 <code>TransitionDrawable#reverseTransition()</code> 从第二个转回第一个 drawable</p>
<h3>8. InsetDrawable(inset 标签)</h3>
<p>inset 标签类似于对 drawable 设置 padding, 但 padding 只设置内容区与边框的距离, 而 inset 不仅设置距离还可以设置自己的背景 drawable.</p>
<pre class="highlight line-numbers"><code class="language-xml linenums">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;inset
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:drawable="@drawable/drawable_resource"
    android:insetTop="dimension"
    android:insetRight="dimension"
    android:insetBottom="dimension"
    android:insetLeft="dimension" /&gt;</code></pre>

<ul>
<li><code>android:drawable</code> 背景图片是必须的</li>
</ul>
<h3>9. ClipDrawable(clip 标签)</h3>
<p>clip 标签可以对 drawable 进行裁剪, 比如在做进度条时, 对进度条进行一定的裁剪, level 的取值范围为 0~10000, 默认为 0, 表示完全裁剪. 10000 表示不裁剪.</p>
<pre class="highlight line-numbers"><code class="language-xml linenums">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;clip
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:drawable="@drawable/drawable_resource"
    android:clipOrientation=["horizontal" | "vertical"]
    android:gravity=["top" | "bottom" | "left" | "right" | "center_vertical" |
                     "fill_vertical" | "center_horizontal" | "fill_horizontal" |
                     "center" | "fill" | "clip_vertical" | "clip_horizontal"] /&gt;</code></pre>

<ul>
<li><code>android:clipOrientation</code> 表示裁剪方向, 可定义水平 <code>horizontal</code> 裁剪和垂直 <code>vertical</code> 裁剪. 水平裁剪指的是从图片的水平位置, 即左右两开始向中心位置开始裁剪. 垂直即是从上下位置开始</li>
<li><code>android:gravity</code> 表示以这个位置为中心, 从该中心的左右, 上下开始裁剪</li>
</ul>
<p>clip 标签的 level 设置需要使用 <code>Drawable#setLevel()</code> 来设置, 比如 <code>ImageView.getDrawable.setLevel(5000)</code>, level 的数值代表了裁剪百分比 <code>level / 10000</code></p>
<p>下面是两个不同裁剪中心的设置, 都裁剪  50%. Java 代码都为 <code>ImageView.getDrawable().setLevel(5000)</code></p>
<pre class="highlight line-numbers"><code class="language-xml linenums">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;!-- 垂直和水平为中心 --&gt;
&lt;clip xmlns:android="http://schemas.android.com/apk/res/android"
    android:drawable="@drawable/poly_test2"
    android:gravity="center"
    android:clipOrientation="horizontal"&gt;
&lt;/clip&gt;</code></pre>

<p><img alt="clip_gravity_center" src="../../assets/images/clip_gravity_center.png" /></p>
<pre class="highlight line-numbers"><code class="language-xml linenums">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;clip xmlns:android="http://schemas.android.com/apk/res/android"
    android:drawable="@drawable/poly_test2"
    android:gravity="left"
    android:clipOrientation="horizontal"&gt;
&lt;/clip&gt;</code></pre>

<p><img alt="clip_gravity_left" src="../../assets/images/clip_gravity_left.png" /></p>
<h3>10. ScaleDrawable(scale 标签)</h3>
<p>scale 标签也是通过设置 level 值来设置缩放, 也是 0~10000</p>
<pre class="highlight line-numbers"><code class="language-xml linenums">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;scale
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:drawable="@drawable/drawable_resource"
    android:scaleGravity=["top" | "bottom" | "left" | "right" | "center_vertical" |
                          "fill_vertical" | "center_horizontal" | "fill_horizontal" |
                          "center" | "fill" | "clip_vertical" | "clip_horizontal"]
    android:scaleHeight="percentage"
    android:scaleWidth="percentage" /&gt;</code></pre>

<ul>
<li><code>android:scaleGravity</code> 指的是以哪里为中心进行缩放</li>
<li><code>android:scaleHeight</code>, <code>android:scaleWidth</code> 值都为<strong>百分比</strong>, 分别为高度和宽度从边框处可以缩放的百分比,  也就是图片会被按 <strong>(1 - 百分比)</strong> 缩小. 比如如果在 xml 中设置最多能缩进 50%, <code>android:scaleWidth="50%"</code>, 在 java 代码中设置 level 为 <code>Drawable.setLevel(3000)</code> 缩小为 30% 大小, 也是会被  xml 的设定给限制最小能缩小到 50%</li>
</ul>
<h3>11. ShapeDrawable(shape 标签)</h3>
<p>shape 标签定义了一些几何形状, 动画过渡等</p>
<pre class="highlight line-numbers"><code class="language-xml linenums">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;shape
       xmlns:android="http://schemas.android.com/apk/res/android"
       android:shape=["rectangle" | "oval" | "line" | "ring"] &gt;

    &lt;corners
        android:radius="integer"
        android:topLeftRadius="integer"
        android:topRightRadius="integer"
        android:bottomLeftRadius="integer"
        android:bottomRightRadius="integer" /&gt;

    &lt;gradient
        android:angle="integer"
        android:centerX="float"
        android:centerY="float"
        andorid:centerColor="integer"
        android:endColor="color"
        android:gradientRadius="integer"
        android:startColor="color"
        android:type=["linear" | "radial" | "sweep"]
        android:useLevel=["true" | "false"] /&gt;

    &lt;padding
        android:left="integer"
        android:top="integer"
        android:right="integer"
        android:bottom="integer" /&gt;

    &lt;size
        android:width="integer"
        android:height="integer" /&gt;

    &lt;solid
        android:color="color" /&gt;

    &lt;stroke
        android:width="integer"
        android:color="color"
        android:dashWidth="integer"
        android:dashGap="integer" /&gt;

&lt;/shape&gt;</code></pre>

<ul>
<li>
<p><code>android:shape</code> 可以设置 <code>rectangle</code> 矩形(默认), <code>oval</code> 椭圆, <code>line</code> 线形, <code>ring</code> 环形</p>
</li>
<li>
<p><code>corners</code> 标签用于设置圆角</p>
</li>
<li>
<p><code>android:radius</code> 同时设置四个角, 会被下面的值覆盖</p>
</li>
<li><code>android:topLeftRadius</code> 左上</li>
<li><code>android:topRightRadius</code> 右上</li>
<li><code>android:bottomLeftRadius</code> 右下</li>
<li><code>android:bottomRightRadius</code> 左下</li>
</ul>
<blockquote>
<p>只适应用于 rectangle 形状</p>
</blockquote>
<ul>
<li>
<p><code>gradient</code> 标签用于设置渐变. </p>
</li>
<li>
<p><code>android:angle</code> 渐变角度, 线性渐变时才有用, 必须为 45 度的倍数. 注意 Android 坐标跟数学坐标不同</p>
</li>
<li><code>android:centerX</code> 放射渐变时中心点的横坐标</li>
<li><code>android:centerY</code> 放射渐变时中心点的纵坐标</li>
<li><code>android:startColor</code> 渐变的初始颜色</li>
<li><code>andorid:centerColor</code> 渐变的中间颜色</li>
<li><code>android:endColor</code> 渐变的结束颜色 </li>
<li><code>android:gradientRadius</code> 放射渐变的渐变半径 </li>
<li><code>android:type</code> 渐变方式. <code>linear</code> 线性渐变, <code>radial</code> 放射渐变(中心渐变), <code>sweep</code> 扫描渐变, 从钟表 3 点钟方向沿顺时针扫一圈的渐变方式.</li>
<li>
<p><code>android:useLeve</code> 是否使用 level 值, 一般不使用</p>
</li>
<li>
<p><code>padding</code> 标签用于设定内容与边界的几个内间距</p>
</li>
<li>
<p><code>size</code> 用与设置图形形状的大小, 矩形的宽高, 椭圆的长宽. 在 <code>ring</code> 中使用时指的是图形的大小, 而不是外边距的大小</p>
</li>
</ul>
<blockquote>
<p>线形不使用这个值</p>
</blockquote>
<ul>
<li><code>solid</code> 用于设置填充到图形中的颜色</li>
</ul>
<blockquote>
<p><code>line</code> 不使用这个设置</p>
</blockquote>
<ul>
<li>
<p><code>stroke</code> 用于设置边线的值. 当形状为<code>line</code> 时, 指的是线的设置</p>
</li>
<li>
<p><code>android:color</code> 填充的颜色</p>
</li>
<li><code>android:width</code> 线的宽度, 或者说是粗细</li>
<li><code>android:dashGap</code> 设置虚线和虚线的间隔距离, 也即是中间实线的长度</li>
<li><code>android:dashWidth</code> 设置虚线的长度</li>
</ul>
<blockquote>
<p>针对形状为 <code>ring</code> 时, 还有 5 个特殊的属性, 写在 shape 标签中</p>
</blockquote>
<ul>
<li><code>android:innerRadius</code> 内圆半径, 覆盖 <code>android:innerRadiusRatio</code> </li>
<li><code>android:innerRadiusRatio</code> 以环的宽度比率来表示内环的半径，默认为 3，表示内环半径为环的宽度除以 3，该值会被 android:innerRadius 覆盖</li>
<li><code>android:thickness</code> 圆环的厚度, 即外径 - 内径的大小, 覆盖 <code>android:thicknessRatio</code></li>
<li><code>android:thicknessRatio</code> 内径占整个 drawable 的比例, 默认为 9, 如果为 n, 则半径 = 宽度 / n</li>
<li><code>android:useLevel</code> <strong>默认为 true. 只有作为 LevelListDrawable 来使用时才设置为 true , 否则设置为 false, 不然可能导致图形无法显示</strong></li>
</ul>
<h3>12. RotateDrawable(rotate 标签)</h3>
<p>设置旋转, 旋转值也是由 <code>Drawable#setLevel()</code> 来控制. 可旋转的角度在 <code>fromDegress</code> - <code>toDegress</code> 之间, 即旋转 (level / 10000) * ( fromDegress - toDegress) 度</p>
<pre class="highlight line-numbers"><code class="language-xml linenums">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;rotate
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:drawable="@drawable/drawable_resource"
    android:fromDegress="float"
    android:toDegress="float"
    android:privotX="float"
    android:privotY="float"
    android:visible=["true" | "false"] /&gt;</code></pre>

<ul>
<li><code>android:drawable</code> 图片来源, 也可以把图形包含在 rotate 标签之间</li>
<li><code>android:fromDegress</code> 开始角度</li>
<li><code>android:toDegress</code> 结束角度</li>
<li><code>android:privotX</code> 旋转中心横坐标</li>
<li><code>android:privotY</code> 旋转中心纵坐标</li>
<li><code>android:visible</code> 是否可见</li>
</ul>
<h3>Reference</h3>
<ol>
<li><a href="https://developer.android.com/guide/topics/resources/drawable-resource">https://developer.android.com/guide/topics/resources/drawable-resource</a></li>
<li><a href="https://keeganlee.me/post/android/20150916">https://keeganlee.me/post/android/20150916</a></li>
<li><a href="https://keeganlee.me/post/android/20150909">https://keeganlee.me/post/android/20150909</a></li>
<li><a href="https://keeganlee.me/post/android/20150830">https://keeganlee.me/post/android/20150830</a></li>
</ol>

                <hr style="visibility: hidden;">
                <ul class="pager">
                </ul>
                <hr style="visibility: hidden;">

            </div>  
        </div>
    </article>
</div>

        <script src="/theme/js/jquery.min.js"></script>
        <script src="/theme/js/bootstrap.min.js"></script>
        <script src="/theme/js/prism.js"></script>
        <script src="/theme/js/hux-blog.min.js"></script>
        <script src="/theme/js/snackbar.js"></script>
        <script src="/theme/js/sw-registration.js"></script>
        <!--fastClick.js -->
        <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>

        <!-- Google Analytics -->
        <script>
            var _gaId = "UA-113622715-2";
            var _gaDomain = "";

            // Originial
            (function(i, s, o, g, r, a, m) {
                i["GoogleAnalyticsObject"] = r;
                (i[r] =
                    i[r] ||
                    function() {
                        (i[r].q = i[r].q || []).push(arguments);
                    }),
                    (i[r].l = 1 * new Date());
                (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
                a.async = 1;
                a.src = g;
                m.parentNode.insertBefore(a, m);
            })(
                window,
                document,
                "script",
                "//www.google-analytics.com/analytics.js",
                "ga"
            );

            ga("create", _gaId, _gaDomain);
            ga("send", "pageview");
        </script>


<script src="//cdnjs.cloudflare.com/ajax/libs/anchor-js/1.1.1/anchor.min.js"></script>
 
        
<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <!-- SNS Link -->

                <p class="copyright text-muted">
                    Copyright &copy; Ambertime 2019                    <br>
                    Powered by <a href="http://getpelican.com/">Pelican</a> | Theme by <a href="http://huangxuan.me">HuxPro</a>
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=ivicel&repo=ivicel.github.io&type=star&count=true" >
                    </iframe>
                    
                </p>
            </div>
        </div>
    </div>
</footer> 
        
        <script src="/theme/js/jquery.min.js"></script>
        <script src="/theme/js/bootstrap.min.js"></script>
        <script src="/theme/js/prism.js"></script>
        <script src="/theme/js/hux-blog.min.js"></script>
        <script src="/theme/js/snackbar.js"></script>
        <script src="/theme/js/sw-registration.js"></script>
        <!--fastClick.js -->
        <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>

        <!-- Google Analytics -->
        <script>
            var _gaId = "UA-113622715-2";
            var _gaDomain = "";

            // Originial
            (function(i, s, o, g, r, a, m) {
                i["GoogleAnalyticsObject"] = r;
                (i[r] =
                    i[r] ||
                    function() {
                        (i[r].q = i[r].q || []).push(arguments);
                    }),
                    (i[r].l = 1 * new Date());
                (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
                a.async = 1;
                a.src = g;
                m.parentNode.insertBefore(a, m);
            })(
                window,
                document,
                "script",
                "//www.google-analytics.com/analytics.js",
                "ga"
            );

            ga("create", _gaId, _gaDomain);
            ga("send", "pageview");
        </script>


<script src="//cdnjs.cloudflare.com/ajax/libs/anchor-js/1.1.1/anchor.min.js"></script>
    </body>
</html>